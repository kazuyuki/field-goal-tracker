<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Basketball FG% Tracker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 30px;
    background: #f5f5f5;
  }
  h1 { margin-bottom: 10px; }
  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 12px;
    text-align: center;
    vertical-align: middle;
  }
  th { background: #eee; }
  input[type="text"] {
    width: 100px;
    padding: 4px;
  }
  .btn {
    width: 48px;
    height: 48px;
    font-size: 24px;
    border-radius: 8px;
    border: 1px solid #888;
    background: #fff;
    margin: 0 6px;
    cursor: pointer;
  }
  .failVal, .madeVal, .attemptVal {
    font-size: 24px;
    padding: 0 8px;
    min-width: 40px;
  }
  .total-row {
    background: #def;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>ğŸ€ FG% Tracker</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Failed</th>
      <th>Made</th>
      <th>Attempt</th>
      <th>FG%</th>
    </tr>
  </thead>
  <tbody id="playerTable"></tbody>

  <tfoot>
    <tr class="total-row">
      <td>Total</td>
      <td id="totalFailed">0</td>
      <td id="totalMade">0</td>
      <td id="totalAttempt">0</td>
      <td id="totalFG">0%</td>
    </tr>
  </tfoot>
</table>

<script>
  const playerCount = 7;
  const players=["ã²ã‚ˆ","ã‚ã„ã‚Š","ã‚†ã„ãª","ã•ã‚†ã¿","ãˆã‚Šãª","ã•ã»","ã‚‹ãª"];
  const tbody = document.getElementById("playerTable");

  // è¡Œç”Ÿæˆ
  for (let i = 0; i < playerCount; i++) {
    const row = document.createElement("tr");

    row.innerHTML = `
      <td><input type="text" value="${players[i]}" class="name"></td>

      <td>
        <button class="btn minusFail">-</button>
        <span class="failVal">0</span>
        <button class="btn plusFail">+</button>
      </td>

      <td>
        <button class="btn minusMade">-</button>
        <span class="madeVal">0</span>
        <button class="btn plusMade">+</button>
      </td>

      <td class="attemptVal">0</td>
      <td class="fg">0%</td>
    `;

    tbody.appendChild(row);
  }

  // FG% ã¨åˆè¨ˆæ›´æ–°
  function updateStats() {
    const rows = document.querySelectorAll("#playerTable tr");

    let totalFailed = 0;
    let totalMade = 0;
    let totalAttempt = 0;

    rows.forEach(row => {
      const failed = Number(row.querySelector(".failVal").textContent);
      const made = Number(row.querySelector(".madeVal").textContent);
      const attempt = failed + made;

      row.querySelector(".attemptVal").textContent = attempt;

      totalFailed += failed;
      totalMade += made;
      totalAttempt += attempt;

      const fg = attempt > 0 ? ((made / attempt) * 100).toFixed(1) : 0;
      row.querySelector(".fg").textContent = fg + "%";
    });

    document.getElementById("totalFailed").textContent = totalFailed;
    document.getElementById("totalMade").textContent = totalMade;
    document.getElementById("totalAttempt").textContent = totalAttempt;

    const teamFG = totalAttempt > 0 ? ((totalMade / totalAttempt) * 100).toFixed(1) : 0;
    document.getElementById("totalFG").textContent = teamFG + "%";
  }

  // ãƒœã‚¿ãƒ³æ“ä½œ
  document.addEventListener("click", e => {
    if (e.target.classList.contains("plusFail")) {
      const span = e.target.parentNode.querySelector(".failVal");
      span.textContent = Number(span.textContent) + 1;
    }
    if (e.target.classList.contains("minusFail")) {
      const span = e.target.parentNode.querySelector(".failVal");
      span.textContent = Math.max(0, Number(span.textContent) - 1);
    }
    if (e.target.classList.contains("plusMade")) {
      const span = e.target.parentNode.querySelector(".madeVal");
      span.textContent = Number(span.textContent) + 1;
    }
    if (e.target.classList.contains("minusMade")) {
      const span = e.target.parentNode.querySelector(".madeVal");
      span.textContent = Math.max(0, Number(span.textContent) - 1);
    }

    updateStats();
  });
</script>

</body>
</html>
